<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>デュエルチェスター — Official</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700;900&display=swap" rel="stylesheet">
  <style>
    :root{
      --red:#e53935;
      --blue:#1e88e5;
      --green:#43a047;
      --yellow:#fdd835;
      --bg:#fafafa;
      --muted:#555;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:'Noto Sans JP',sans-serif;background:var(--bg);color:#333;}

    header{background:white;box-shadow:0 2px 6px rgba(0,0,0,0.06);position:sticky;top:0;z-index:50;padding:14px 28px;display:flex;align-items:center;justify-content:space-between}
    .logo{font-weight:900;font-size:22px;color:var(--red)}
    nav{display:flex;gap:18px}
    nav a{text-decoration:none;color:var(--muted);font-weight:700}
    .btn{padding:10px 16px;border-radius:24px;background:var(--red);color:white;font-weight:800;text-decoration:none;box-shadow:0 4px 12px rgba(0,0,0,0.12)}

    .hero{padding:60px 28px;text-align:center;background:linear-gradient(180deg,#fff,#f5f5f5)}
    .hero h1{font-size:42px;margin:0;color:var(--red)}
    .hero p{color:var(--muted);margin:12px 0 20px}

    .section-title{font-size:28px;font-weight:900;margin:40px 0 20px;text-align:center;color:var(--red)}

    .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px;padding:0 28px 40px}
    .card-item{background:white;border-radius:12px;box-shadow:0 4px 14px rgba(0,0,0,0.08);overflow:hidden;transition:transform .2s}
    .card-item:hover{transform:translateY(-4px)}
    .card-item img{width:100%;height:320px;object-fit:cover;display:block}
    .card-body{padding:14px}
    .card-body h3{margin:0 0 8px;font-size:18px;color:var(--blue)}
    .card-body p{margin:0;color:var(--muted);font-size:14px;line-height:1.5}

    footer{padding:28px;text-align:center;color:var(--muted);background:#fff;border-top:1px solid #f0f0f0;font-size:14px}

    @media(max-width:860px){
      .hero h1{font-size:32px}
    }
  </style>
</head>
<body>
  <header>
    <div class="logo"><img src="C:\Users\moritamikoto\Documents\saito\yoko.png" alt="ロゴ"width="175"height="25"></div>
    <nav>
      <a href="#explanation">ルール説明</a>
      <a href="#cards">カード紹介</a>
      <a href="#chat">チャット</a>
    </nav>
    <a class="btn" href="#download">ダウンロードする</a>
  </header>

  <main>
    <section class="hero">
      <img src="C:\Users\moritamikoto\Documents\saito\rogo.png" alt="ロゴ"width="280"height="200">
      <p>神秘と戦略が交錯する新しいカードゲームの世界へようこそ。</p>

    </section>
<section id="explanation" style="text-align:center;padding:40px 28px">
      <h2 class="section-title">ルール説明</h2>
      <p>従来のチェスにカードゲームの要素が＋</p>
      <p>チェス</p>
      <p>チェス</p>
    </section>

    <section id="cards">
      <h2 class="section-title">カード紹介</h2>
      <p style="color:var(--muted)">属性</p>
      <div class="cards">
        <div class="card-item">
          <img src="C:\Users\moritamikoto\Documents\saito\どらごん.png" alt="ドラゴン"width="300"height="420">
          <div class="card-body">
            <h3>ドラゴン</h3>
            <p>火属性の伝説級ドラゴン。盤面に出ると相手全体に炎ダメージを与える。</p>
          </div>
        </div>
        <div class="card-item">
          <img src="https://placehold.co/300x420" alt="ドラゴン">
          <div class="card-body">
            <h3>ドラゴン</h3>
            <p>火属性の伝説級ドラゴン。盤面に出ると相手全体に炎ダメージを与える。</p>
          </div>
        </div>
        <div class="card-item">
          <img src="https://placehold.co/300x420" alt="ドラゴン">
          <div class="card-body">
            <h3>ドラゴン</h3>
            <p>火属性の伝説級ドラゴン。盤面に出ると相手全体に炎ダメージを与える。</p>
          </div>
        </div>
        <div class="card-item">
          <img src="https://placehold.co/300x420" alt="ドラゴン">
          <div class="card-body">
            <h3>ドラゴン</h3>
            <p>火属性の伝説級ドラゴン。盤面に出ると相手全体に炎ダメージを与える。</p>
          </div>
        </div>
        <div class="card-item">
          <img src="https://placehold.co/300x420" alt="ドラゴン">
          <div class="card-body">
            <h3>ドラゴン</h3>
            <p>火属性の伝説級ドラゴン。盤面に出ると相手全体に炎ダメージを与える。</p>
          </div>
        </div>
        <div class="card-item">
          <img src="https://placehold.co/300x420" alt="ドラゴン">
          <div class="card-body">
            <h3>ドラゴン</h3>
            <p>火属性の伝説級ドラゴン。盤面に出ると相手全体に炎ダメージを与える。</p>
          </div>
        </div>

      </div>
    </section>

    <section id="chat" style="padding:0 28px 40px">
      <h2 class="section-title">チャット欄</h2>

<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>YouTube風コメント欄</title>
<style>
  :root{
    --bg:#ffffff; --card:#f9f9f9; --muted:#606060; --accent:#065fd4;
    --text:#111111; --accent-press:#054bb0;
  }
  *{box-sizing:border-box}
  body{
    margin:0; font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", sans-serif;
    background:var(--bg); color:var(--text); padding:28px;
  }

  .comments-wrap{max-width:900px; margin:0 auto; display:grid; gap:16px;}

  /* 検索・並び替えバー */
  .top-bar{
    display:flex; flex-wrap:wrap; gap:8px; justify-content:space-between; align-items:center;
  }
  .search-bar{
    flex:1; display:flex; gap:8px; align-items:center;
    padding:8px; border:1px solid #ccc; border-radius:8px; background:#fff;
  }
  .search-bar input{flex:1; border:none; outline:none; font-size:14px;}
  .sort-btn{
    background:#f1f1f1; border:1px solid #ccc; padding:8px 12px; border-radius:8px;
    cursor:pointer; font-size:14px; color:#333;
  }
  .sort-btn:hover{background:#e6e6e6;}

  /* composer */
  .composer{
    background:var(--card);
    border:1px solid #ddd; padding:14px; border-radius:12px; display:flex; gap:12px; align-items:flex-start;
  }
  .avatar{width:44px; height:44px; border-radius:50%; background:linear-gradient(135deg,#5dd7ff,#7386ff);}
  .composer-main{flex:1}
  input#nickname{
    width:100%; margin-bottom:8px; padding:6px; border-radius:6px; border:1px solid #ccc; background:#fff; color:var(--text);
  }
  textarea#newComment{
    width:100%; min-height:72px; resize:vertical; border-radius:8px; padding:10px; font-size:14px;
    border:1px solid #ccc; background:#fff; color:var(--text);
    outline:none;
  }
  .composer-row{display:flex; justify-content:space-between; align-items:center; gap:12px; margin-top:8px;}
  .btn{
    background:var(--accent); color:#fff; border:none; padding:8px 12px; border-radius:8px; cursor:pointer; font-weight:600;
  }
  .btn:active{background:var(--accent-press)}
  .btn.ghost{background:#f1f1f1; color:var(--muted); border:1px solid #ddd}
  .counter{color:var(--muted); font-size:13px}

  /* comments list */
  .list{display:flex; flex-direction:column; gap:12px;}
  .comment-card{
    display:flex; gap:12px; padding:12px; border-radius:10px; background:var(--card);
    border:1px solid #ddd;
  }
  .comment-body{flex:1}
  .meta{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
  .name{font-weight:700; font-size:14px}
  .time{color:var(--muted); font-size:13px}
  .text{margin-top:8px; font-size:15px; line-height:1.5; color:var(--text)}
  .actions{display:flex; gap:8px; margin-top:10px; align-items:center}
  .action-btn{background:transparent; border:none; color:var(--muted); cursor:pointer; font-size:13px; padding:6px 8px; border-radius:6px}
  .action-btn:hover{color:var(--text); background:#eee}
  .like-count{font-weight:700; margin-left:6px; color:var(--accent)}
  .reply-form{margin-top:10px; display:none; gap:8px}
  .reply-form textarea{min-height:56px; border:1px solid #ccc; border-radius:6px; padding:6px; width:100%}
  .replies{margin-top:10px; margin-left:56px; display:flex; flex-direction:column; gap:8px}
  .avatar.small{width:36px;height:36px; flex:0 0 36px}

  mark{background:yellow; padding:0 2px; border-radius:2px;}
</style>
</head>
<body>
<div class="comments-wrap" id="commentsWrap">
  <h2 style="margin:0 0 4px 0">コメント</h2>

  <!-- 検索・並び替えバー -->
  <div class="top-bar">
    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="コメントを検索..." />
    </div>
    <button id="sortBtn" class="sort-btn">🔽 新しい順</button>
  </div>

  <!-- コメント投稿欄 -->
  <div class="composer">
    <div class="avatar"></div>
    <div class="composer-main">
      <input id="nickname" type="text" placeholder="ニックネーム" maxlength="20" />
      <textarea id="newComment" maxlength="1000" placeholder="コメントを入力..."></textarea>
      <div class="composer-row">
        <div class="counter" id="composerCounter">0 / 1000</div>
        <div style="display:flex; gap:8px">
          <button class="btn ghost" id="clearBtn">クリア</button>
          <button class="btn" id="postBtn">投稿</button>
        </div>
      </div>
    </div>
  </div>

  <!-- コメントリスト -->
  <div class="list" id="commentList"></div>
</div>

<script>
function timeStampLocale(d){
  const now = new Date();
  const diff = Math.floor((now - d) / 1000);
  if(diff < 60) return diff + "秒前";
  if(diff < 3600) return Math.floor(diff/60) + "分前";
  if(diff < 86400) return Math.floor(diff/3600) + "時間前";
  return d.toLocaleString('ja-JP');
}
function createAvatarGradient(seed){
  const colors = [
    "linear-gradient(135deg,#5dd7ff,#7386ff)",
    "linear-gradient(135deg,#ffb86b,#ff7aa2)",
    "linear-gradient(135deg,#a5ffb6,#6be7ff)",
    "linear-gradient(135deg,#c59bff,#7ed6a3)",
  ];
  return colors[Math.abs(seed) % colors.length];
}
const newComment = document.getElementById('newComment');
const nicknameInput = document.getElementById('nickname');
const composerCounter = document.getElementById('composerCounter');
const clearBtn = document.getElementById('clearBtn');
const postBtn = document.getElementById('postBtn');
const commentList = document.getElementById('commentList');
const searchInput = document.getElementById('searchInput');
const sortBtn = document.getElementById('sortBtn');
let allComments = [];
let sortOrder = "newest"; // "newest" or "oldest"

newComment.addEventListener('input', ()=>{
  composerCounter.textContent = newComment.value.length + " / " + newComment.maxLength;
});
clearBtn.addEventListener('click', ()=>{ newComment.value = ""; newComment.dispatchEvent(new Event('input')); });
postBtn.addEventListener('click', ()=>{
  const text = newComment.value.trim();
  const nick = nicknameInput.value.trim() || "匿名";
  if(!text) { alert('コメントを入力してください。'); return; }
  const comment = makeCommentObject({author: nick, text});
  allComments.push(comment); // 新しいコメントを末尾に追加
  renderComments();
  newComment.value = ""; newComment.dispatchEvent(new Event('input'));
});

sortBtn.addEventListener('click', ()=>{
  sortOrder = (sortOrder === "newest") ? "oldest" : "newest";
  sortBtn.textContent = sortOrder === "newest" ? "🔽 新しい順" : "🔼 古い順";
  renderComments();
});


searchInput.addEventListener('input', ()=>{ renderComments(); });

function makeCommentObject({author="匿名", text="", time=new Date(), likes=0, replies=[]}){
  return {id: "c"+Math.random().toString(36).slice(2,9), author, text, time:new Date(time), likes:likes||0, replies:replies||[]};
}

function highlight(text, keyword){
  if(!keyword) return escapeHtml(text);
  const regex = new RegExp(`(${keyword.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");
  return escapeHtml(text).replace(regex, "<mark>$1</mark>");
}

function renderComments(){
  commentList.innerHTML = "";
  const keyword = searchInput.value.trim();
  let list = [...allComments];
  list.sort((a,b)=>{
    return sortOrder === "newest" ? b.time - a.time : a.time - b.time;
  });
  list.forEach(c => {
    if(matchesKeyword(c, keyword)){
      appendComment(c, keyword);
    }
  });
}

function matchesKeyword(comment, keyword){
  if(!keyword) return true;
  if(comment.author.toLowerCase().includes(keyword.toLowerCase()) || comment.text.toLowerCase().includes(keyword.toLowerCase())){
    return true;
  }
  if(comment.replies && comment.replies.some(r=>matchesKeyword(r, keyword))){
    return true;
  }
  return false;
}

function appendComment(commentObj, keyword="", parentElement=null){
  const li = document.createElement('div');
  li.className = 'comment-card';
  li.dataset.id = commentObj.id;

  const avatar = document.createElement('div');
  avatar.className = 'avatar';
  avatar.style.background = createAvatarGradient(commentObj.author.length);

  const body = document.createElement('div');
  body.className = 'comment-body';
  body.innerHTML = `
    <div class="meta">
      <div class="name">${highlight(commentObj.author, keyword)}</div>
      <div class="time">${timeStampLocale(commentObj.time)}</div>
    </div>
    <div class="text">${highlight(commentObj.text, keyword).replace(/\\n/g,'<br>')}</div>
    <div class="actions">
      <button class="action-btn likeBtn">👍 <span class="like-count">${commentObj.likes}</span></button>
      <button class="action-btn replyToggle">返信</button>
    </div>
    <div class="reply-form" style="display:none">
      <textarea placeholder="返信を入力..." maxlength="800"></textarea>
      <div style="display:flex; justify-content:flex-end; gap:8px; margin-top:6px">
        <button class="btn ghost cancelReply">キャンセル</button>
        <button class="btn sendReply">返信を投稿</button>
      </div>
    </div>
    <div class="replies"></div>
  `;

  li.appendChild(avatar);
  li.appendChild(body);
  const container = parentElement ? parentElement.querySelector('.replies') : commentList;
  container.appendChild(li);

  if(Array.isArray(commentObj.replies) && commentObj.replies.length){
    commentObj.replies.forEach(r => appendComment(makeCommentObject(r), keyword, li));
  }

  const likeBtn = body.querySelector('.likeBtn');
  likeBtn.addEventListener('click', ()=>{
    const countSpan = likeBtn.querySelector('.like-count');
    let count = parseInt(countSpan.textContent||"0",10);
    countSpan.textContent = ++count;
  });

  const replyToggle = body.querySelector('.replyToggle');
  const replyForm = body.querySelector('.reply-form');
  const cancelReply = body.querySelector('.cancelReply');
  const sendReply = body.querySelector('.sendReply');
  replyToggle.addEventListener('click', ()=>{
    replyForm.style.display = replyForm.style.display==='none' ? 'block':'none';
  });
  cancelReply.addEventListener('click', ()=>{ replyForm.style.display='none'; });
  sendReply.addEventListener('click', ()=>{
    const ta = replyForm.querySelector('textarea');
    const text = ta.value.trim();
    const nick = nicknameInput.value.trim() || "匿名";
    if(!text) return;
    const replyObj = makeCommentObject({author: nick, text});
    commentObj.replies.push(replyObj);
    renderComments();
  });
}

function escapeHtml(str){
  return String(str).replace(/[&<>"']/g, (m)=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
}
</script>
</body>
</html>


    </section>
   
  </main>

 </body>
</html>